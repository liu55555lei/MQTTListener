## 性能测试报告（模板）

### 环境
- CPU: 8核
- 内存: 16GB
- MySQL: 8.0（独立部署，开启 InnoDB buffer pool 适当大小）

### 场景
1) 单通道 1000 条/秒，持续 10 分钟
2) 5 通道并发，总计 5000 条/秒，持续 10 分钟

### 指标
- 丢失率：0%
- 平均写入延迟：< 100ms（端到端）
- CPU/内存：记录峰值和平均

### 方法
- 使用 MQTT 压测工具（如自制脚本或现有工具）按 QoS 1 发布
- 服务端日志统计 + 数据库计数比对

### 瓶颈与优化建议
- 如果 MySQL 写入成为瓶颈：增大批量阈值、开启多批次并行、使用表分区/分表
- 增大连接池与线程池容量；降低 JSON 解析/格式化开销
- 给高频 JSON 路径增加函数索引
